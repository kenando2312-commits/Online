<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Biodata Available Malaysia</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    /* //////////////////// */
    /* //////////////////// */
body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
margin:0;
background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
min-height: 100vh;
}
.top-image {
text-align: center;
padding: 0;
background: linear-gradient(90deg, #007BFF, #0056b3);
overflow: hidden;
position: relative;
}
.top-image img {
width: 100%;
height: auto;
max-height: 250px;
object-fit: cover;
display: block;
}
.header-overlay {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.5));
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
color: white;
padding: 20px;
}
.header-title {
font-size: 36px;
font-weight: bold;
text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
margin-bottom: 10px;
}
.header-subtitle {
font-size: 18px;
opacity: 0.9;
text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
}
.header {
display:flex;
align-items:center;
background: linear-gradient(90deg, #007BFF, #0056b3);
color:white;
padding:15px 30px;
box-shadow:0 4px 12px rgba(0,0,0,0.15);
position: sticky;
top: 0;
z-index: 100;
}
.company-info {
display: flex;
flex-direction: column;
margin-right: 20px;
text-align: center;
}
.company-name {
font-size: 18px;
font-weight: bold;
margin-bottom: 5px;
}
.company-type {
font-size: 14px;
opacity: 0.9;
}
.header h1 {
margin:0;
font-size:26px;
font-weight:bold;
text-align:center;
flex:1;
text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
}
.filter {
display:flex;
gap:20px;
align-items:center;
padding:25px 30px;
background: white;

border-radius: 12px;
box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}
.filter-logo {
height: 50px;
margin: 0 10px;
border-radius: 5px;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.filter input, .filter select {
padding:12px 15px;
font-size:14px;
border-radius:25px;
border:1px solid #ddd;
flex:1;
transition: all 0.3s ease;
}
.filter input:focus, .filter select:focus {
outline: none;
border-color: #007BFF;
box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
}
#bio-container {
display:grid;
grid-template-columns:repeat(5, 1fr); /* Maksimal 5 kolom */
grid-column-gap:30px; /* Jarak horizontal antar gambar */
grid-row-gap:70px; /* Jarak vertikal antar baris gambar */
padding:0 30px 30px;
}
.bio-card {
text-align:center;
background:white;
border-radius:15px;
padding:25px;
box-shadow:0 8px 25px rgba(0,0,0,0.1);
transition:all 0.3s ease;
display: flex;
flex-direction: column;
height: 100%;
position: relative;
overflow: hidden;
}
.bio-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 5px;
background: linear-gradient(90deg, #007BFF, #28a745);
}
.bio-card:hover {
transform:translateY(-8px);
box-shadow:0 12px 30px rgba(0,0,0,0.15);
}
.bio-card .image-container {
width:100%;
height:240px;
border-radius:12px;
margin-bottom:20px;
overflow: hidden;
background-color: #f8f9fa;
display: flex;
align-items: center;
justify-content: center;
position: relative;
}
.bio-card .image-container::after {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: linear-gradient(to bottom, rgba(0,0,0,0) 70%, rgba(0,0,0,0.3) 100%);
opacity: 0;
transition: opacity 0.3s ease;
}
.bio-card:hover .image-container::after {
opacity: 1;
}
.bio-card .image-container img {
max-width: 100%;
max-height: 100%;
object-fit: contain;
border-radius:8px;
transition:transform 0.5s ease;
}
.bio-card:hover .image-container img { transform:scale(1.03); }
.bio-links {
display:flex;
justify-content:center;
flex-wrap:wrap;
gap:8px;
font-size:12px;
margin-top:15px;
}
.bio-links a, .bio-links span {
display: inline-flex;
align-items: center;
padding: 6px 12px;
border-radius: 15px;
background-color: #f0f7ff;
color: #007BFF;
text-decoration: none;
transition: all 0.2s ease;
}
.bio-links a:hover, .bio-links span:hover {
background-color: #007BFF;
color: white;
transform: translateY(-2px);
}
.bio-links span {
color: #6c757d;
background-color: #f8f9fa;
cursor: default;
}
.bio-links i {
margin-right: 5px;
}
.bio-card button {
padding:10px 15px;
font-size:12px;
border-radius:20px;
margin:0 5px;
cursor:pointer;
border:none;
transition:all 0.2s ease;
font-weight: 600;
text-transform: uppercase;
letter-spacing: 0.5px;
}
.keep-btn {
background:linear-gradient(45deg, #28a745, #20c997);
color:white;
box-shadow: 0 4px 8px rgba(40,167,69,0.3);
}
.keep-btn:hover {
background:linear-gradient(45deg, #218838, #1ea080);
transform: translateY(-2px);
box-shadow: 0 6px 12px rgba(40,167,69,0.4);
}
.sold-btn {
background:linear-gradient(45deg, #dc3545, #e83e8c);
color:white;
box-shadow: 0 4px 8px rgba(220,53,69,0.3);
}
.sold-btn:hover {
background:linear-gradient(45deg, #c82333, #d91a72);
transform: translateY(-2px);
box-shadow: 0 6px 12px rgba(220,53,69,0.4);
}
.bio-card div.name {
font-weight:bold;
font-size:16px;
margin-bottom:12px;
color: #343a40;
}
.bio-card div.info {
font-size:13px;
margin-bottom:10px;
color: #6c757d;
}
.loading {
text-align: center;
padding: 40px;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
}
.loading-spinner {
width: 50px;
height: 50px;
border: 5px solid #f3f3f3;
border-top: 5px solid #007BFF;
border-radius: 50%;
animation: spin 1s linear infinite;
margin-bottom: 15px;
}
@keyframes spin {
0% { transform: rotate(0deg); }
100% { transform: rotate(360deg); }
}
.error {
color: #dc3545;
text-align: center;
padding: 30px;
background-color: #fff;
border-radius: 12px;
margin: 30px;
box-shadow: 0 4px 15px rgba(0,0,0,0.08);
}
.retry-btn {
background: linear-gradient(45deg, #007BFF, #0056b3);
color: white;
border: none;
padding: 12px 20px;
border-radius: 25px;
cursor: pointer;
margin-top: 20px;
font-weight: 600;
transition: all 0.3s ease;
box-shadow: 0 4px 8px rgba(0,123,255,0.3);
}
.retry-btn:hover {
transform: translateY(-2px);
box-shadow: 0 6px 12px rgba(0,123,255,0.4);
}
.logo-placeholder {
height:60px;
width:120px; /* Lebar lebih besar untuk menampung logo asli */
margin-right:20px;
border-radius:5px;
background-color:white;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
color:#007BFF;
box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}
.card-content {
flex-grow: 1;
display: flex;
flex-direction: column;
}
.card-actions {
margin-top: auto;
padding-top: 20px;
border-top: 1px solid #f1f3f5;
display: flex;
justify-content: center;
}
.refresh-container {
position: fixed;
bottom: 30px;
right: 30px;
z-index: 100;
}
.refresh-btn {
width: 50px;
height: 50px;
border-radius: 50%;
background: linear-gradient(45deg, #007BFF, #0056b3);
color: white;
border: none;
box-shadow: 0 4px 12px rgba(0,123,255,0.4);
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
}
.refresh-btn:hover {
transform: scale(1.1);
box-shadow: 0 6px 16px rgba(0,123,255,0.5);
}
.refresh-btn i {
font-size: 20px;
}
.status-indicator {
position: absolute;
top: 20px;
right: 20px;
width: 12px;
height: 12px;
border-radius: 50%;
background-color: #28a745;
box-shadow: 0 0 0 3px rgba(40,167,69,0.3);
}
.no-data {
text-align: center;
padding: 40px 20px;
color: #6c757d;
}
.no-data i {
font-size: 48px;
margin-bottom: 20px;
color: #dee2e6;
}
.image-loading {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(255,255,255,0.8);
display: flex;
align-items: center;
justify-content: center;
z-index: 1;
}
.image-loading-spinner {
width: 30px;
height: 30px;
border: 3px solid #f3f3f3;
border-top: 3px solid #007BFF;
border-radius: 50%;
animation: spin 1s linear infinite;
}

/* Pagination Styles */
.pagination-container {
display: flex;
justify-content: center;
align-items: center;
margin: 30px 0 40px;
gap: 15px;
}
.pagination-btn {
padding: 10px 15px;
background-color: white;
border: 1px solid #dee2e6;
border-radius: 8px;
cursor: pointer;
transition: all 0.2s ease;
font-weight: 500;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
.pagination-btn:hover {
background-color: #e9ecef;
transform: translateY(-2px);
box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}
.pagination-btn.active {
background-color: #007BFF;
color: white;
border-color: #007BFF;
}
.pagination-btn:disabled {
opacity: 0.5;
cursor: not-allowed;
}
.pagination-info {
margin: 0 20px;
color: #6c757d;
font-size: 14px;
font-weight: 500;
}

/* PDF Modal Styles */
.pdf-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}
.pdf-modal-content {
width: 90%;
height: 90%;
background-color: white;
border-radius: 12px;
overflow: hidden;
display: flex;
flex-direction: column;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}
.pdf-modal-header {
padding: 20px 25px;
background-color: #007BFF;
color: white;
display: flex;
justify-content: space-between;
align-items: center;
}
.pdf-modal-title {
font-size: 20px;
font-weight: 600;
}
.pdf-modal-close {
background: none;
border: none;
color: white;
font-size: 28px;
cursor: pointer;
transition: transform 0.2s;
}
.pdf-modal-close:hover {
transform: scale(1.2);
}
.pdf-modal-body {
flex-grow: 1;
padding: 0;
overflow: auto;
display: flex;
justify-content: center;
align-items: center;
}
.pdf-modal-body iframe {
width: 100%;
height: 100%;
border: none;
}
.pdf-loading {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
height: 100%;
}
.pdf-loading-spinner {
width: 60px;
height: 60px;
border: 6px solid #f3f3f3;
border-top: 6px solid #007BFF;
border-radius: 50%;
animation: spin 1s linear infinite;
margin-bottom: 20px;
}

/* Video Modal Styles */
.video-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}
.video-modal-content {
width: 90%;
height: 90%;
background-color: white;
border-radius: 12px;
overflow: hidden;
display: flex;
flex-direction: column;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}
.video-modal-header {
padding: 20px 25px;
background-color: #dc3545;
color: white;
display: flex;
justify-content: space-between;
align-items: center;
}
.video-modal-title {
font-size: 20px;
font-weight: 600;
}
.video-modal-close {
background: none;
border: none;
color: white;
font-size: 28px;
cursor: pointer;
transition: transform 0.2s;
}
.video-modal-close:hover {
transform: scale(1.2);
}
.video-modal-body {
flex-grow: 1;
padding: 0;
overflow: hidden;
position: relative;
background-color: #000;
}
.video-modal-body iframe {
width: 100%;
height: 100%;
border: none;
}
.video-loading {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
height: 100%;
color: white;
}
.video-loading-spinner {
width: 60px;
height: 60px;
border: 6px solid rgba(255,255,255,0.3);
border-top: 6px solid #dc3545;
border-radius: 50%;
animation: spin 1s linear infinite;
margin-bottom: 20px;
}

/* Keep Modal Styles */
.keep-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}
.keep-modal-content {
width: 90%;
max-width: 500px;
background-color: white;
border-radius: 12px;
overflow: hidden;
display: flex;
flex-direction: column;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}
.keep-modal-header {
padding: 20px 25px;
background-color: #28a745;
color: white;
display: flex;
justify-content: space-between;
align-items: center;
}
.keep-modal-title {
font-size: 20px;
font-weight: 600;
}
.keep-modal-close {
background: none;
border: none;
color: white;
font-size: 28px;
cursor: pointer;
transition: transform 0.2s;
}
.keep-modal-close:hover {
transform: scale(1.2);
}
.keep-modal-body {
padding: 25px;
}
.keep-form-group {
margin-bottom: 20px;
}
.keep-form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: #343a40;
}
.keep-form-group input, .keep-form-group select {
width: 100%;
padding: 12px 15px;
font-size: 14px;
border-radius: 8px;
border: 1px solid #ddd;
transition: all 0.3s ease;
}
.keep-form-group input:focus, .keep-form-group select:focus {
outline: none;
border-color: #28a745;
box-shadow: 0 0 0 3px rgba(40,167,69,0.25);
}
.keep-modal-footer {
padding: 15px 25px;
background-color: #f8f9fa;
display: flex;
justify-content: center;
}
.keep-send-btn {
padding: 12px 30px;
background-color: #25D366;
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
font-weight: 600;
font-size: 16px;
transition: all 0.2s ease;
display: flex;
align-items: center;
gap: 10px;
}
.keep-send-btn:hover {
background-color: #128C7E;
}
.keep-bio-info {
background-color: #f8f9fa;
border-radius: 8px;
padding: 15px;
margin-bottom: 20px;
}
.keep-bio-info h4 {
margin-top: 0;
margin-bottom: 10px;
color: #28a745;
}
.keep-bio-info p {
margin-bottom: 5px;
}

/* Sold Modal Styles */
.sold-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background-color: rgba(0,0,0,0.8);
z-index: 1000;
justify-content: center;
align-items: center;
}
.sold-modal-content {
width: 90%;
max-width: 500px;
background-color: white;
border-radius: 12px;
overflow: hidden;
display: flex;
flex-direction: column;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}
.sold-modal-header {
padding: 20px 25px;
background-color: #dc3545;
color: white;
display: flex;
justify-content: space-between;
align-items: center;
}
.sold-modal-title {
font-size: 20px;
font-weight: 600;
}
.sold-modal-close {
background: none;
border: none;
color: white;
font-size: 28px;
cursor: pointer;
transition: transform 0.2s;
}
.sold-modal-close:hover {
transform: scale(1.2);
}
.sold-modal-body {
padding: 25px;
}
.sold-form-group {
margin-bottom: 20px;
}
.sold-form-group label {
display: block;
margin-bottom: 8px;
font-weight: 600;
color: #343a40;
}
.sold-form-group input, .sold-form-group select {
width: 100%;
padding: 12px 15px;
font-size: 14px;
border-radius: 8px;
border: 1px solid #ddd;
transition: all 0.3s ease;
}
.sold-form-group input:focus, .sold-form-group select:focus {
outline: none;
border-color: #dc3545;
box-shadow: 0 0 0 3px rgba(220,53,69,0.25);
}
.sold-modal-footer {
padding: 15px 25px;
background-color: #f8f9fa;
display: flex;
justify-content: center;
}
.sold-send-btn {
padding: 12px 30px;
background-color: #25D366;
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
font-weight: 600;
font-size: 16px;
transition: all 0.2s ease;
display: flex;
align-items: center;
gap: 10px;
}
.sold-send-btn:hover {
background-color: #128C7E;
}
.sold-bio-info {
background-color: #f8f9fa;
border-radius: 8px;
padding: 15px;
margin-bottom: 20px;
}
.sold-bio-info h4 {
margin-top: 0;
margin-bottom: 10px;
color: #dc3545;
}
.sold-bio-info p {
margin-bottom: 5px;
}

/* Notification Styles */
.notification {
position: fixed;
bottom: 30px;
left: 30px;
background-color: white;
border-radius: 12px;
box-shadow: 0 10px 25px rgba(0,0,0,0.2);
padding: 20px;
display: flex;
align-items: center;
max-width: 400px;
z-index: 1001;
transform: translateY(150%);
transition: transform 0.3s ease;
}
.notification.show {
transform: translateY(0);
}
.notification-icon {
width: 40px;
height: 40px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
margin-right: 15px;
flex-shrink: 0;
}
.notification-icon.success {
background-color: #28a745;
color: white;
}
.notification-icon.error {
background-color: #dc3545;
color: white;
}
.notification-icon.info {
background-color: #17a2b8;
color: white;
}
.notification-content {
flex-grow: 1;
}
.notification-title {
font-weight: 600;
margin-bottom: 5px;
}
.notification-message {
font-size: 14px;
color: #6c757d;
}
.notification-close {
background: none;
border: none;
color: #6c757d;
cursor: pointer;
margin-left: 10px;
font-size: 18px;
}
</style>
</head>
<body>

<!-- Header dengan gambar profesional -->
<div class="top-image">
<img src="https://lh3.googleusercontent.com/d/1ANoX14MrOaQOynCV9xxPJ1y-RN1XtTpM" alt="Header Image" onerror="this.src='https://via.placeholder.com/1200x250?text=Header+Image+Not+Available'">
<div class="header-overlay">
<div class="header-title"> </div>
<div class="header-subtitle"> </div>
</div>
</div>

<div class="header">
<!-- Teks B menggantikan logo -->
<div class="company-info">
<div class="company-name">PT Jafa Indo Corpora</div>
<div class="company-type">INDONESIA MANPOWER AGENCY</div>
</div>

<h1>BIODATA AVAILABLE MALAYSIA</h1>
</div>

<div class="filter">
<input id="searchInput" placeholder="Cari nama...">

<!-- Logo C di antara kolom pencarian dan filter -->
<img src="https://lh3.googleusercontent.com/d/1wjsUsP_gdw4S9Y7aKEQPk5IQrNBePtId" alt="Filter Logo" class="filter-logo" onerror="this.src='https://via.placeholder.com/200x50?text=Logo+Not+Available'">

<select id="categoryFilter">
<option value="ALL">ALL</option>
<option value="BABY">BABY</option>
<option value="ELDERLY">ELDERLY</option>
<option value="BABY & ELDERLY">BABY & ELDERLY</option>
</select>
</div>

<div id="bio-container">
<div class="loading">
<div class="loading-spinner"></div>
<p>Memuat data biodata...</p>
</div>
</div>

<!-- Pagination -->
<div class="pagination-container" id="pagination" style="display: none;">
<button class="pagination-btn" id="prevBtn" onclick="bioApp.changePage(-1)">
<i class="fas fa-chevron-left"></i> Previous
</button>
<div class="pagination-info" id="pageInfo"></div>
<button class="pagination-btn" id="nextBtn" onclick="bioApp.changePage(1)">
Next <i class="fas fa-chevron-right"></i>
</button>
</div>

<div class="refresh-container">
<button class="refresh-btn" onclick="bioApp.refreshData()" title="Refresh Data">
<i class="fas fa-sync-alt"></i>
</button>
</div>

<!-- PDF Modal -->
<div class="pdf-modal" id="pdfModal">
<div class="pdf-modal-content">
<div class="pdf-modal-header">
<div class="pdf-modal-title" id="pdfTitle">Biodata</div>
<button class="pdf-modal-close" onclick="bioApp.closePdfModal()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="pdf-modal-body" id="pdfModalBody">
<div class="pdf-loading">
<div class="pdf-loading-spinner"></div>
<p>Memuat PDF...</p>
</div>
</div>
</div>
</div>

<!-- Video Modal -->
<div class="video-modal" id="videoModal">
<div class="video-modal-content">
<div class="video-modal-header">
<div class="video-modal-title" id="videoTitle">Video</div>
<button class="video-modal-close" onclick="bioApp.closeVideoModal()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="video-modal-body" id="videoModalBody">
<div class="video-loading">
<div class="video-loading-spinner"></div>
<p>Memuat video...</p>
</div>
</div>
</div>
</div>

<!-- Keep Modal -->
<div class="keep-modal" id="keepModal">
<div class="keep-modal-content">
<div class="keep-modal-header">
<div class="keep-modal-title">Form KEEP Biodata</div>
<button class="keep-modal-close" onclick="bioApp.closeKeepModal()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="keep-modal-body">
<div class="keep-bio-info">
<h4>Informasi Biodata</h4>
<p><strong>Nama:</strong> <span id="keepBioName"></span></p>
<p><strong>Pengalaman:</strong> <span id="keepBioExp"></span></p>
<p><strong>Usia/TB/BB:</strong> <span id="keepBioAge"></span></p>
</div>
<form id="keepForm">
<div class="keep-form-group">
<label for="keeperName">Nama Pemegang:</label>
<input type="text" id="keeperName" name="keeperName" required>
</div>
<div class="keep-form-group">
<label for="keeperAgency">Nama Agency:</label>
<input type="text" id="keeperAgency" name="keeperAgency" required>
</div>
</form>
</div>
<div class="keep-modal-footer">
<button class="keep-send-btn" onclick="bioApp.sendKeepWhatsApp()">
<i class="fab fa-whatsapp"></i> SEND
</button>
</div>
</div>
</div>

<!-- Sold Modal -->
<div class="sold-modal" id="soldModal">
<div class="sold-modal-content">
<div class="sold-modal-header">
<div class="sold-modal-title">Form SOLD Biodata</div>
<button class="sold-modal-close" onclick="bioApp.closeSoldModal()">
<i class="fas fa-times"></i>
</button>
</div>
<div class="sold-modal-body">
<div class="sold-bio-info">
<h4>Informasi Biodata</h4>
<p><strong>Nama:</strong> <span id="soldBioName"></span></p>
<p><strong>Pengalaman:</strong> <span id="soldBioExp"></span></p>
<p><strong>Usia/TB/BB:</strong> <span id="soldBioAge"></span></p>
</div>
<form id="soldForm">
<div class="sold-form-group">
<label for="buyerName">Nama Pembeli:</label>
<input type="text" id="buyerName" name="buyerName" required>
</div>
<div class="sold-form-group">
<label for="buyerAgency">Nama Agency:</label>
<input type="text" id="buyerAgency" name="buyerAgency" required>
</div>
</form>
</div>
<div class="sold-modal-footer">
<button class="sold-send-btn" onclick="bioApp.sendSoldWhatsApp()">
<i class="fab fa-whatsapp"></i> SEND
</button>
</div>
</div>
</div>

<!-- Notification -->
<div class="notification" id="notification">
<div class="notification-icon" id="notificationIcon">
<i class="fas fa-check"></i>
</div>
<div class="notification-content">
<div class="notification-title" id="notificationTitle">Notifikasi</div>
<div class="notification-message" id="notificationMessage">Pesan notifikasi</div>
</div>
<button class="notification-close" onclick="bioApp.closeNotification()">
<i class="fas fa-times"></i>
</button>
</div>

<script>
// Pastikan semua fungsi dapat diakses secara global
window.bioApp = {
// URL Web App yang baru
webAppUrl: 'https://script.google.com/macros/s/AKfycbyGhjRDjVCm5D1DL_guj-DIKV4l5qDSnXwi-QMcM-W3xEjPM7MbPlxh7OTffrvuYvejlQ/exec',
allData: [],
filteredData: [],
isLoading: false,
debugMode: false, // Nonaktifkan mode debug
retryCount: 0,
maxRetries: 3,
currentPage: 1,
itemsPerPage: 40, // Maksimal 40 item per halaman
currentBioIndex: null, // Menyimpan indeks biodata yang sedang di-keep/sold
whatsappAdminNumber: '6288223986023', // Nomor WhatsApp admin (tetap)

// Fungsi untuk konversi link Google Drive jadi direct image
driveToImg: function(url) {
if(!url) return '';
let id = '';

// Format: /file/d/ID/
if(url.includes('/file/d/')) {
const match = url.match(/\/file\/d\/(.*?)\//);
if(match) id = match[1];
}
// Format: open?id=ID
else if(url.includes('open?id=')){
id = url.split('open?id=')[1].split('&')[0];
}

// Coba beberapa format URL Google Drive
if (id) {
// Format 1: Direct link
const url1 = `https://drive.google.com/uc?export=view&id=${id}`;
// Format 2: Thumbnail
const url2 = `https://drive.google.com/thumbnail?id=${id}&sz=w400`;
// Format 3: Google Host
const url3 = `https://lh3.googleusercontent.com/d/${id}`;

// Kita akan mencoba format 1 dulu, jika gagal akan menggunakan format lain
return url1;
}

return url;
},

// Fungsi untuk konversi link Google Drive jadi PDF preview
driveToPdfPreview: function(url) {
if(!url) return '';
let id = '';

// Format: /file/d/ID/
if(url.includes('/file/d/')) {
const match = url.match(/\/file\/d\/(.*?)\//);
if(match) id = match[1];
}
// Format: open?id=ID
else if(url.includes('open?id=')){
id = url.split('open?id=')[1].split('&')[0];
}

// Coba beberapa format URL Google Drive untuk PDF preview
if (id) {
// Format untuk preview PDF
return `https://drive.google.com/file/d/${id}/preview`;
}

return url;
},

// Fungsi untuk konversi link Google Drive jadi video preview
driveToVideoPreview: function(url) {
if(!url) return '';
let id = '';

// Format: /file/d/ID/
if(url.includes('/file/d/')) {
const match = url.match(/\/file\/d\/(.*?)\//);
if(match) id = match[1];
}
// Format: open?id=ID
else if(url.includes('open?id=')){
id = url.split('open?id=')[1].split('&')[0];
}

// Coba beberapa format URL Google Drive untuk video preview
if (id) {
// Format untuk preview video
return `https://drive.google.com/file/d/${id}/preview`;
}

return url;
},

// Fungsi untuk konversi link YouTube jadi embed
youtubeToEmbed: function(url) {
if(!url) return '';

// Format: youtube.com/watch?v=ID
if(url.includes('youtube.com/watch?v=')) {
const id = url.split('v=')[1].split('&')[0];
return `https://www.youtube.com/embed/${id}`;
}
// Format: youtu.be/ID
else if(url.includes('youtu.be/')) {
const id = url.split('youtu.be/')[1].split('?')[0];
return `https://www.youtube.com/embed/${id}`;
}

return url;
},

// Fungsi untuk menangani error gambar
handleImageError: function(img) {
// Dapatkan ID dari URL yang gagal
const url = img.src;
let id = '';

if(url.includes('id=')) {
id = url.split('id=')[1].split('&')[0];
}

if (id) {
// Coba format URL lain
if (!img.src.includes('thumbnail')) {
img.src = `https://drive.google.com/thumbnail?id=${id}&sz=w400`;
} else if (!img.src.includes('googleusercontent')) {
img.src = `https://lh3.googleusercontent.com/d/${id}`;
} else {
// Jika semua gagal, gunakan placeholder
img.onerror = null; // Hindari loop tak terbatas
img.src = 'https://via.placeholder.com/400x300?text=Foto+Tidak+Tersedia';
}
} else {
img.onerror = null;
img.src = 'https://via.placeholder.com/400x300?text=Foto+Tidak+Tersedia';
}

// Sembunyikan indikator loading
const loadingIndicator = img.nextElementSibling;
if (loadingIndicator && loadingIndicator.classList.contains('image-loading')) {
loadingIndicator.style.display = 'none';
}
},

// Fungsi untuk menangani gambar berhasil dimuat
handleImageLoad: function(img) {
// Sembunyikan indikator loading
const loadingIndicator = img.nextElementSibling;
if (loadingIndicator && loadingIndicator.classList.contains('image-loading')) {
loadingIndicator.style.display = 'none';
}
},

// Fetch data dari Web App dengan berbagai metode
fetchData: function() {
if (this.isLoading) return;

this.isLoading = true;
const container = document.getElementById('bio-container');
container.innerHTML = `
<div class="loading">
<div class="loading-spinner"></div>
<p>Memuat data biodata...</p>
</div>
`;

// Sembunyikan pagination saat loading
document.getElementById('pagination').style.display = 'none';

// Coba metode 1: Fetch API
this.tryFetchAPI();

// Fallback: Coba metode 2: JSONP setelah 3 detik
setTimeout(() => {
if (this.allData.length === 0) {
this.tryJSONP();
}
}, 3000);

// Fallback terakhir: Tampilkan pesan error setelah 10 detik
setTimeout(() => {
if (this.allData.length === 0) {
this.isLoading = false;
this.showError();
}
}, 10000);
},

// Metode 1: Fetch API
tryFetchAPI: function() {
try {
fetch(this.webAppUrl)
.then(response => {
if (!response.ok) {
throw new Error('Network response was not ok');
}
return response.json();
})
.then(data => {
this.allData = data;
this.isLoading = false;
this.retryCount = 0; // Reset retry count
this.applyFilters();
})
.catch(error => {
// Tidak perlu melakukan apa-apa di sini, fallback akan menangani
});
} catch (e) {
// Exception handling
}
},

// Metode 2: JSONP
tryJSONP: function() {
// Hapus script JSONP sebelumnya jika ada
const oldScript = document.getElementById('jsonp-script');
if (oldScript) {
oldScript.remove();
}

// Buat callback function untuk JSONP
window.bioAppHandleData = (data) => {
this.allData = data;
this.isLoading = false;
this.retryCount = 0; // Reset retry count
this.applyFilters();
};

// Buat script tag untuk JSONP
const script = document.createElement('script');
script.id = 'jsonp-script';
script.src = this.webAppUrl + '?callback=bioAppHandleData';
script.onerror = () => {
// Coba metode lain
this.tryAlternativeMethod();
};
document.body.appendChild(script);
},

// Metode alternatif: Menggunakan iframe
tryAlternativeMethod: function() {
const container = document.getElementById('bio-container');

// Buat iframe untuk memuat data
const iframe = document.createElement('iframe');
iframe.style.display = 'none';
iframe.src = this.webAppUrl;

iframe.onload = () => {
try {
// Coba akses konten iframe (mungkin gagal karena same-origin policy)
const iframeContent = iframe.contentDocument || iframe.contentWindow.document;
const iframeText = iframeContent.body.innerText || iframeContent.body.textContent;

try {
const data = JSON.parse(iframeText);
this.allData = data;
this.isLoading = false;
this.retryCount = 0; // Reset retry count
this.applyFilters();
} catch (e) {
this.showError();
}
} catch (e) {
this.showError();
}

// Hapus iframe
document.body.removeChild(iframe);
};

iframe.onerror = () => {
document.body.removeChild(iframe);
this.showError();
};

document.body.appendChild(iframe);
},

// Tampilkan pesan error
showError: function() {
this.isLoading = false;
this.retryCount++;

const container = document.getElementById('bio-container');

if (this.retryCount <= this.maxRetries) {
container.innerHTML = `
<div class="error">
<i class="fas fa-exclamation-triangle" style="font-size: 48px; margin-bottom: 20px; color: #ffc107;"></i>
<h3>Gagal memuat data</h3>
<p>Terjadi kesalahan saat memuat data. Silakan coba lagi.</p>
<button class="retry-btn" onclick="bioApp.fetchData()">
<i class="fas fa-redo"></i> Coba Lagi (${this.retryCount}/${this.maxRetries})
</button>
</div>
`;
} else {
container.innerHTML = `
<div class="error">
<i class="fas fa-times-circle" style="font-size: 48px; margin-bottom: 20px; color: #dc3545;"></i>
<h3>Gagal memuat data</h3>
<p>Tidak dapat memuat data setelah beberapa percobaan. Silakan periksa koneksi internet Anda atau coba lagi nanti.</p>
<button class="retry-btn" onclick="bioApp.resetAndFetch()">
<i class="fas fa-sync-alt"></i> Coba Lagi
</button>
</div>
`;
}

// Sembunyikan pagination saat error
document.getElementById('pagination').style.display = 'none';
},

// Reset dan fetch ulang
resetAndFetch: function() {
this.retryCount = 0;
this.fetchData();
},

// Refresh data
refreshData: function() {
if (!this.isLoading) {
this.fetchData();

// Animasi tombol refresh
const refreshBtn = document.querySelector('.refresh-btn i');
if (refreshBtn) {
refreshBtn.style.animation = 'spin 1s linear';
setTimeout(() => {
refreshBtn.style.animation = '';
}, 1000);
}
}
},

// Terapkan filter dan tampilkan data
applyFilters: function() {
const searchVal = document.getElementById('searchInput').value.toLowerCase();
const catVal = document.getElementById('categoryFilter').value;

this.filteredData = this.allData.filter(bio => {
// Filter status SOLD
if(bio.Status === 'SOLD') return false;

// Filter kategori
if(catVal !== 'ALL') {
const category = bio.CATAGORI ? bio.CATAGORI.trim().toUpperCase() : '';
if(category !== catVal) return false;
}

// Filter pencarian
if(searchVal && bio['NAMA'] && !bio['NAMA'].toLowerCase().includes(searchVal)) return false;

return true;
});

// Reset ke halaman pertama setelah filter
this.currentPage = 1;

// Render halaman
this.renderPage();
},

// Render card bio
renderPage: function() {
const container = document.getElementById('bio-container');
container.innerHTML = '';

// Hitung total halaman
const totalPages = Math.ceil(this.filteredData.length / this.itemsPerPage);

// Jika tidak ada data
if (this.filteredData.length === 0) {
container.innerHTML = `
<div class="no-data" style="grid-column: 1 / -1;">
<i class="fas fa-search"></i>
<h3>Tidak ada data yang tersedia</h3>
<p>Tidak ada biodata yang sesuai dengan filter yang Anda pilih.</p>
</div>
`;

// Sembunyikan pagination jika tidak ada data
document.getElementById('pagination').style.display = 'none';
return;
}

// Hitung index awal dan akhir untuk halaman saat ini
const startIndex = (this.currentPage - 1) * this.itemsPerPage;
const endIndex = Math.min(startIndex + this.itemsPerPage, this.filteredData.length);

// Ambil data untuk halaman saat ini
const currentPageData = this.filteredData.slice(startIndex, endIndex);

// Render data
currentPageData.forEach((bio, index) => {
const card = document.createElement('div');
card.className = 'bio-card';
const imgSrc = this.driveToImg(bio['FOTO']);

// Tentukan status biodata
const isKept = bio.Status === 'KEPT';
const isSold = bio.Status === 'SOLD';

// Buat HTML untuk semua link (biodata dan video)
let linksHtml = '';

// Tambahkan link biodata
linksHtml += bio.BIODATA ?
`<a href="#" onclick="bioApp.openPdfModal('${bio.BIODATA}', '${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-file-pdf"></i> Biodata</a>` :
`<span><i class="fas fa-file-pdf"></i> Biodata</span>`;

// Tambahkan link video Introduce
if (bio.Introduce) {
linksHtml += `<a href="#" onclick="bioApp.openVideoModal('${bio.Introduce}', 'Introduce - ${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-film"></i> Introduce</a>`;
}

// Tambahkan link video Baby
if (bio.Baby) {
linksHtml += `<a href="#" onclick="bioApp.openVideoModal('${bio.Baby}', 'Baby Care - ${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-baby"></i> Baby</a>`;
}

// Tambahkan link video Elderly
if (bio.Elderly) {
linksHtml += `<a href="#" onclick="bioApp.openVideoModal('${bio.Elderly}', 'Elderly Care - ${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-user-friends"></i> Elderly</a>`;
}

// Tambahkan link video Cooking
if (bio.Cooking) {
linksHtml += `<a href="#" onclick="bioApp.openVideoModal('${bio.Cooking}', 'Cooking - ${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-utensils"></i> Cooking</a>`;
}

// Tambahkan link video Housekeeping
if (bio.Housekeeping) {
linksHtml += `<a href="#" onclick="bioApp.openVideoModal('${bio.Housekeeping}', 'Housekeeping - ${bio['NAMA'] || 'Biodata'}'); return false;"><i class="fas fa-broom"></i> Housekeeping</a>`;
}

// Tentukan tombol yang akan ditampilkan
let actionButtons = '';
if (!isKept && !isSold) {
// Tampilkan tombol KEEP saja
actionButtons = `
<button class="keep-btn" onclick="bioApp.openKeepModal(${startIndex + index})">
<i class="fas fa-check"></i> KEEP
</button>
`;
} else if (isKept && !isSold) {
// Tampilkan tombol SOLD saja
actionButtons = `
<button class="sold-btn" onclick="bioApp.openSoldModal(${startIndex + index})">
<i class="fas fa-times"></i> SOLD
</button>
`;
}

card.innerHTML = `
<div class="status-indicator"></div>
<div class="card-content">
<div class="image-container">
<img src="${imgSrc}" alt="Foto" onerror="bioApp.handleImageError(this)" onload="bioApp.handleImageLoad(this)">
<div class="image-loading">
<div class="image-loading-spinner"></div>
</div>
</div>
<div class="name">${bio['NAMA'] || 'N/A'}</div>
<div class="info"><i class="fas fa-map-marker-alt"></i> (${bio['CABANG'] || 'N/A'})</div>
<div class="info" style="color:${bio['PENGALAMAN']==='NON'?'red':'blue'}">
<i class="fas fa-briefcase"></i> ${bio['PENGALAMAN'] || 'N/A'}
</div>
<div class="info" style="color:${bio['AGAMA'] && bio['AGAMA'].toLowerCase().includes('muslim')?'blue':'blue'}">
<i class="fas fa-pray"></i> ${bio['AGAMA'] || 'N/A'}
</div>
<div class="info"><i class="fas fa-info-circle"></i> ${bio['UMUR'] || 'N/A'}</div>
<div class="info"><i class="fas fa-tag"></i> ${bio['CATAGORI'] || 'N/A'}</div>

<div class="bio-links">
 ${linksHtml}
</div>
</div>
<div class="card-actions">
 ${actionButtons}
</div>
`;
container.appendChild(card);
});

// Update pagination
this.updatePagination(totalPages);
},

// Update pagination
updatePagination: function(totalPages) {
const pagination = document.getElementById('pagination');
const pageInfo = document.getElementById('pageInfo');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');

// Update info halaman
pageInfo.textContent = `Halaman ${this.currentPage} dari ${totalPages} (${this.filteredData.length} data)`;

// Update tombol previous
prevBtn.disabled = this.currentPage === 1;

// Update tombol next
nextBtn.disabled = this.currentPage === totalPages;

// Tampilkan pagination
pagination.style.display = 'flex';
},

// Ganti halaman
changePage: function(direction) {
const totalPages = Math.ceil(this.filteredData.length / this.itemsPerPage);
const newPage = this.currentPage + direction;

if (newPage >= 1 && newPage <= totalPages) {
this.currentPage = newPage;
this.renderPage();

// Scroll ke atas container
document.getElementById('bio-container').scrollIntoView({ behavior: 'smooth' });
}
},

// Buka PDF modal
openPdfModal: function(pdfUrl, name) {
const modal = document.getElementById('pdfModal');
const modalTitle = document.getElementById('pdfTitle');
const modalBody = document.getElementById('pdfModalBody');

// Set title
modalTitle.textContent = `Biodata - ${name}`;

// Tampilkan loading
modalBody.innerHTML = `
<div class="pdf-loading">
<div class="pdf-loading-spinner"></div>
<p>Memuat PDF...</p>
</div>
`;

// Tampilkan modal
modal.style.display = 'flex';

// Konversi URL ke preview URL
const previewUrl = this.driveToPdfPreview(pdfUrl);

// Buat iframe untuk PDF
setTimeout(() => {
modalBody.innerHTML = `<iframe src="${previewUrl}" frameborder="0"></iframe>`;
}, 1000);
},

// Tutup PDF modal
closePdfModal: function() {
const modal = document.getElementById('pdfModal');
modal.style.display = 'none';
},

// Buka Video modal
openVideoModal: function(videoUrl, title) {
const modal = document.getElementById('videoModal');
const modalTitle = document.getElementById('videoTitle');
const modalBody = document.getElementById('videoModalBody');

// Set title
modalTitle.textContent = title;

// Tampilkan loading
modalBody.innerHTML = `
<div class="video-loading">
<div class="video-loading-spinner"></div>
<p>Memuat video...</p>
</div>
`;

// Tampilkan modal
modal.style.display = 'flex';

// Cek apakah video dari YouTube atau Google Drive
let embedUrl = '';

if (videoUrl.includes('youtube.com') || videoUrl.includes('youtu.be')) {
// Konversi link YouTube jadi embed
embedUrl = this.youtubeToEmbed(videoUrl);
} else if (videoUrl.includes('drive.google.com')) {
// Konversi link Google Drive jadi preview
embedUrl = this.driveToVideoPreview(videoUrl);
} else {
// Gunakan URL asli
embedUrl = videoUrl;
}

// Buat iframe untuk video
setTimeout(() => {
modalBody.innerHTML = `<iframe src="${embedUrl}" frameborder="0" allowfullscreen></iframe>`;
}, 1000);
},

// Tutup Video modal
closeVideoModal: function() {
const modal = document.getElementById('videoModal');
modal.style.display = 'none';

// Hentikan video saat modal ditutup
const iframe = modal.querySelector('iframe');
if (iframe) {
const iframeSrc = iframe.src;
iframe.src = '';
iframe.src = iframeSrc;
}
},

// Buka Keep Modal
openKeepModal: function(bioIndex) {
this.currentBioIndex = bioIndex;
const bio = this.filteredData[bioIndex];
    
// Isi informasi biodata
document.getElementById('keepBioName').textContent = bio['NAMA'] || 'N/A';
document.getElementById('keepBioExp').textContent = bio['PENGALAMAN'] || 'N/A';
document.getElementById('keepBioAge').textContent = bio['UMUR'] || 'N/A';
    
// Reset form
document.getElementById('keepForm').reset();
    
// Tampilkan modal
document.getElementById('keepModal').style.display = 'flex';
},

// Tutup Keep Modal
closeKeepModal: function() {
document.getElementById('keepModal').style.display = 'none';
    this.currentBioIndex = null;
},

// Kirim WhatsApp untuk KEEP
sendKeepWhatsApp: function() {
    if (this.currentBioIndex === null) return;
    
    const form = document.getElementById('keepForm');
    if (!form.checkValidity()) {
        form.reportValidity();
        return;
    }
    
    const bio = this.filteredData[this.currentBioIndex];
    const keeperName = document.getElementById('keeperName').value;
    const keeperAgency = document.getElementById('keeperAgency').value;
    
    // Format pesan WhatsApp
    const message = `*Permintaan KEEP Biodata*\n\n` +
                   `*Nama Biodata:* ${bio['NAMA']}\n` +
                   `*Nama Pemegang:* ${keeperName}\n` +
                   `*Nama Agency:* ${keeperAgency}\n\n` +
                   `Silakan balas dengan "YA" untuk menyetujui atau "TIDAK" untuk menolak.`;
    
    // Buat link WhatsApp
    const whatsappUrl = `https://wa.me/${this.whatsappAdminNumber}?text=${encodeURIComponent(message)}`;
    
    // Buka WhatsApp di tab baru
    window.open(whatsappUrl, '_blank');
    
    // Tampilkan notifikasi sukses
    this.showNotification('success', 'Permintaan Terkirim', 'Permintaan KEEP telah dikirim ke admin via WhatsApp.');
    
    // Tutup modal
    this.closeKeepModal();
},

// Buka Sold Modal
openSoldModal: function(bioIndex) {
this.currentBioIndex = bioIndex;
const bio = this.filteredData[bioIndex];
    
// Isi informasi biodata
document.getElementById('soldBioName').textContent = bio['NAMA'] || 'N/A';
document.getElementById('soldBioExp').textContent = bio['PENGALAMAN'] || 'N/A';
document.getElementById('soldBioAge').textContent = bio['UMUR / TB / BB'] || 'N/A';
    
// Reset form
document.getElementById('soldForm').reset();
    
// Tampilkan modal
document.getElementById('soldModal').style.display = 'flex';
},

// Tutup Sold Modal
closeSoldModal: function() {
document.getElementById('soldModal').style.display = 'none';
    this.currentBioIndex = null;
},

// Kirim WhatsApp untuk SOLD
sendSoldWhatsApp: function() {
    if (this.currentBioIndex === null) return;
    
    const form = document.getElementById('soldForm');
    if (!form.checkValidity()) {
        form.reportValidity();
        return;
    }
    
    const bio = this.filteredData[this.currentBioIndex];
    const buyerName = document.getElementById('buyerName').value;
    const buyerAgency = document.getElementById('buyerAgency').value;
    
    // Format pesan WhatsApp
    const message = `*Permintaan SOLD Biodata*\n\n` +
                   `*Nama Biodata:* ${bio['NAMA']}\n` +
                   `*Nama Pembeli:* ${buyerName}\n` +
                   `*Nama Agency:* ${buyerAgency}\n\n` +
                   `Silakan balas dengan "YA" untuk menyetujui atau "TIDAK" untuk menolak.`;
    
    // Buat link WhatsApp
    const whatsappUrl = `https://wa.me/${this.whatsappAdminNumber}?text=${encodeURIComponent(message)}`;
    
    // Buka WhatsApp di tab baru
    window.open(whatsappUrl, '_blank');
    
    // Tampilkan notifikasi sukses
    this.showNotification('success', 'Permintaan Terkirim', 'Permintaan SOLD telah dikirim ke admin via WhatsApp.');
    
    // Tutup modal
    this.closeSoldModal();
},

// Tampilkan notifikasi
showNotification: function(type, title, message) {
const notification = document.getElementById('notification');
const notificationIcon = document.getElementById('notificationIcon');
const notificationTitle = document.getElementById('notificationTitle');
const notificationMessage = document.getElementById('notificationMessage');
    
// Set icon berdasarkan tipe
if (type === 'success') {
notificationIcon.className = 'notification-icon success';
notificationIcon.innerHTML = '<i class="fas fa-check"></i>';
} else if (type === 'error') {
notificationIcon.className = 'notification-icon error';
notificationIcon.innerHTML = '<i class="fas fa-times"></i>';
} else if (type === 'info') {
notificationIcon.className = 'notification-icon info';
notificationIcon.innerHTML = '<i class="fas fa-info"></i>';
}
    
// Set judul dan pesan
notificationTitle.textContent = title;
notificationMessage.textContent = message;
    
// Tampilkan notifikasi
notification.classList.add('show');
    
// Sembunyikan notifikasi setelah 5 detik
setTimeout(() => {
this.closeNotification();
}, 5000);
},

// Tutup notifikasi
closeNotification: function() {
const notification = document.getElementById('notification');
notification.classList.remove('show');
},

// Event filter
initFilters: function() {
document.getElementById('searchInput').addEventListener('input', () => this.applyFilters());
document.getElementById('categoryFilter').addEventListener('change', () => this.applyFilters());
},

// Inisialisasi aplikasi
init: function() {
this.initFilters();
this.fetchData();

// Auto refresh setiap 5 menit
setInterval(() => {
if (!this.isLoading) {
this.refreshData();
}
}, 300000); // 5 menit = 300000 ms

// Tutup modal saat klik di luar modal
window.onclick = function(event) {
const pdfModal = document.getElementById('pdfModal');
const videoModal = document.getElementById('videoModal');
const keepModal = document.getElementById('keepModal');
const soldModal = document.getElementById('soldModal');

if (event.target === pdfModal) {
bioApp.closePdfModal();
}

if (event.target === videoModal) {
bioApp.closeVideoModal();
}

if (event.target === keepModal) {
bioApp.closeKeepModal();
}

if (event.target === soldModal) {
bioApp.closeSoldModal();
}
};
}
};

// Jalankan aplikasi saat halaman dimuat
document.addEventListener('DOMContentLoaded', function() {
window.bioApp.init();
});
</script>
</body>
</html>
